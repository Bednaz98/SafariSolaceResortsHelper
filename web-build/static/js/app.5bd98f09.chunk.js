(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{86:function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r,s,a=n(8),c=n.n(a),o=n(0),u=n(4),i=n(2),l={clockStatus:!1,setClockStatus:function(){},user:void 0,setUser:function(){}},d=Object(o.createContext)(l),j=n(88),x=Object(o.createContext)({theme:0,setTheme:function(){}});function h(e){switch(Object(o.useContext)(x).theme,e){case s.Text:case s.Button:return"";case s.Modal:case s.InputText:return"#aaaaaa";case s.B:case s.C:case s.D:case s.E:case s.F:default:return""}}!function(e){e[e.default=0]="default",e[e.other=1]="other"}(r||(r={})),function(e){e[e.Text=0]="Text",e[e.Button=1]="Button",e[e.Modal=2]="Modal",e[e.InputText=3]="InputText",e[e.B=4]="B",e[e.C=5]="C",e[e.D=6]="D",e[e.E=7]="E",e[e.F=8]="F"}(s||(s={}));var f=n(1);function b(e){e.onPress,e.title;return Object(f.jsx)(i.a,{style:{padding:3},children:Object(f.jsx)(j.a,{onPress:e.onPress,title:e.title,color:h(s.Button),disabled:e.disabled,testID:e.testID},e.key)})}var O=n(45);function g(e){return Object(f.jsx)(i.a,{children:Object(f.jsx)(b,{title:"Logout",onPress:function(){O.a.removeItem("user"),e.setPage(0)}})})}function v(e){var t=Object(o.useContext)(d);return Object(f.jsxs)(i.a,{style:{flexDirection:"row"},children:[Object(f.jsx)(b,{title:"View Request",onPress:function(){e.setPageIndex(1)}}),Object(f.jsx)(b,{title:"Manage Events",onPress:function(){e.setPageIndex(2)}}),Object(f.jsx)(b,{title:"Time Sheet",onPress:function(){e.setPageIndex(3)}}),Object(f.jsx)((function(e){return t.user.isManager?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b,{title:"View Employee State",onPress:function(){e.setPageIndex(4)}}),Object(f.jsx)(b,{title:"Review Problems",onPress:function(){e.setPageIndex(5)}})]}):Object(f.jsx)(f.Fragment,{})}),{setPageIndex:e.setPageIndex}),Object(f.jsx)(g,{setPage:e.setPageIndex})]})}var p,m=n(5),w=n.n(m),y=n(13),P=n.n(y),k=n(14),C=n.n(k),I=n(19),T=n.n(I),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;P()(this,e),this.useURL="http://20.124.74.192:3000",this.devMode=!1,this.IndexURL=0,this.devMode=t,this.IndexURL=n}return C()(e,[{key:"getURL",value:function(){return this.devMode?"https://d52f8991-f077-4c37-a337-e3679d255a88.mock.pstmn.io":this.useURL}},{key:"getWorklogs",value:function(){var e,t;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(T.a.get(this.getURL()+"/worklogs"));case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"getWorklogByID",value:function(e){var t,n,r;return w.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,w.a.awrap(T.a.get(this.getURL()+"/worklogs"));case 2:return t=s.sent,n=t.data.filter((function(t){return t.id===e})),r=n[0],s.abrupt("return",r);case 6:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"clockin",value:function(e,t){var n,r;return w.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,w.a.awrap(T.a.post(this.getURL()+"/worklogs",{wId:e,type:t}));case 2:return n=s.sent,r=n.data,s.abrupt("return",r);case 5:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"clockout",value:function(e,t){var n,r;return w.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,w.a.awrap(T.a.post(this.getURL()+"/worklogs",{wId:e,type:t}));case 2:return n=s.sent,r=n.data,s.abrupt("return",r);case 5:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"login",value:function(e,t){var n,r;return w.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,w.a.awrap(T.a.patch(this.getURL()+"/login",{username:e,password:t}));case 3:return n=s.sent,r=n.data,s.abrupt("return",r);case 8:s.prev=8,s.t0=s.catch(0),console.log("Login failed");case 11:case"end":return s.stop()}}),null,this,[[0,8]],Promise)}}]),e}(),R=n(42);function L(e){var t,n=e.text;if(!n)throw new Error("You did not pass a text value into one of your text");var r=null!=(t=null==e?void 0:e.type)?t:p.General;return Object(f.jsx)(i.a,{style:{padding:3},children:Object(f.jsx)(R.a,{style:U(r),children:n})})}function U(e){switch(e){case p.Title:return{color:h(s.Text),fontSize:70};case p.Header:return{color:h(s.Text),fontSize:50};case p.General:default:return{color:h(s.Text),fontSize:20}}}function q(){var e=Object(o.useContext)(d),t=Object(o.useState)(!1),n=c()(t,2),r=n[0],s=n[1],a=new S;return Object(o.useEffect)((function(){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.awrap(a.getWorklogByID(e.user.id));case 2:"CHEKIN"==t.sent.type?s(!0):s(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise),function(){}}),[]),Object(f.jsxs)(i.a,{children:[Object(f.jsx)(L,{text:r?"Clock Out":"Clock-In"}),Object(f.jsx)(b,{title:"Change Status",onPress:function(){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(!r),r){t.next=6;break}return t.next=4,w.a.awrap(a.clockin(e.user.id,"Clock-In"));case 4:t.next=8;break;case 6:return t.next=8,w.a.awrap(a.clockout(e.user.id,"Clock-In"));case 8:case"end":return t.stop()}}),null,null,null,Promise)}})]})}!function(e){e[e.Title=0]="Title",e[e.Header=1]="Header",e[e.General=2]="General"}(p||(p={}));var F=n(77);function E(e){var t,n,r,a,c=e.value,o=e.onChangeText,u=e.placeholder;if(void 0===c)throw new Error("You did not pass a value into one of your input text, pass the useState read only value here");if(!o)throw new Error("You did not pass an onChangeText to one of your input text, pass the useState function here ");if(!u)throw new Error("You did not put a placeholder into one of your input text, please add a default value that describes what the field will be used for");var l=null!=(t=null==e?void 0:e.keyboardType)?t:"default",d=null==(n=null==e?void 0:e.editable)||n,j=null!=(r=null==e?void 0:e.onChange)?r:function(e){var t=e.nativeEvent;t.eventCount,t.target,t.text},x=null!=(a=null==e?void 0:e.onContentSizeChange)?a:function(e){var t=e.nativeEvent.contentSize;t.width,t.height};return Object(f.jsx)(i.a,{style:{backgroundColor:h(s.InputText),padding:3},children:Object(f.jsx)(F.a,{value:c,onChangeText:o,placeholder:u,keyboardType:l,editable:d,onChange:j,onContentSizeChange:x})})}function M(e){var t,n,r=null!=(t=null==e?void 0:e.height)?t:0,s=null!=(n=null==e?void 0:e.width)?n:0,a=e.minHeight,c=e.minWidth,o=e.maxHeight,u=e.maxWidth;return Object(f.jsx)(i.a,{style:{height:r,width:s,minHeight:a,minWidth:c,maxHeight:o,maxWidth:u}})}function D(e){var t=Object(o.useContext)(d),n=Object(o.useState)(""),r=c()(n,2),s=r[0],a=r[1],u=Object(o.useState)(""),l=c()(u,2),j=l[0],x=l[1];function h(){e.setPage(1)}return Object(f.jsxs)(i.a,{children:[Object(f.jsx)(L,{text:"Welcome to Safari Solace Resorts",textType:p.Title}),Object(f.jsx)(M,{height:5}),Object(f.jsx)(E,{value:s,onChangeText:a,placeholder:"Username"}),Object(f.jsx)(M,{height:5}),Object(f.jsx)(E,{value:j,onChangeText:x,placeholder:"Password"}),Object(f.jsx)(M,{height:5}),Object(f.jsx)(b,{title:"Login",onPress:function(e){var n,r,a;return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new S(!0),e.next=3,w.a.awrap(n.login(s,j));case 3:if(r=e.sent,null==(a=r)||!a.id){e.next=12;break}return t.setUser(a),e.next=9,w.a.awrap(O.a.setItem("user",JSON.stringify(a)));case 9:h(),e.next=13;break;case 12:alert("Login failed");case 13:case"end":return e.stop()}}),null,null,null,Promise)}})]})}var A,B=n(85),H=n(78);!function(e){e[e.Ordered=0]="Ordered",e[e.Processing=1]="Processing",e[e.Completed=2]="Completed",e[e.Cancelled=3]="Cancelled",e[e.All=4]="All"}(A||(A={}));var W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;P()(this,e),this.useURL="http://20.124.74.192:3000",this.devMode=!1,this.IndexURL=0,this.devMode=t,this.IndexURL=n}return C()(e,[{key:"getURL",value:function(){return this.devMode?"https://d52f8991-f077-4c37-a337-e3679d255a88.mock.pstmn.io":this.useURL}},{key:"getAllRequest",value:function(e){var t,n,r,s;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.awrap(T.a.get(this.getURL()+"/servicerequests"));case 2:if(t=a.sent,n=t.data,e!=A.All){a.next=8;break}return a.abrupt("return",n);case 8:for(r=[],s=0;s<n.length;s++)n[s].status==A[e]&&r.push(n[s]);return a.abrupt("return",r);case 11:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"markAsProcessed",value:function(e){var t,n;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.a.awrap(T.a.put(this.getURL()+"/servicerequests/"+e,{status:"Processing"}));case 2:return t=r.sent,n=t.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"markAsCompleted",value:function(e){var t,n;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.a.awrap(T.a.put(this.getURL()+"/servicerequests/"+e,{status:"Completed"}));case 2:return t=r.sent,n=t.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),null,this,null,Promise)}}]),e}(),z=(new W(!1,1),n(87));function G(e){var t,n=e.child,r=null!=(t=null==e?void 0:e.openTitle)?t:"null open title",a=Object(o.useState)(!1),l=c()(a,2),d=l[0],j=l[1],x=u.a.create({modalView:{flexDirection:"column",margin:20,backgroundColor:h(s.Modal),borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:0}}});return Object(f.jsxs)(i.a,{children:[Object(f.jsx)(z.a,{animationType:"slide",transparent:!0,visible:d,onRequestClose:function(){j(!d)},children:Object(f.jsx)(i.a,{style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22,backgroundColor:h(s.Modal)},children:Object(f.jsxs)(i.a,{style:x.modalView,children:[Object(f.jsx)(i.a,{children:n}),Object(f.jsx)(i.a,{children:Object(f.jsx)(b,{title:"close",onPress:function(){j(!d)}})})]})})}),Object(f.jsx)(b,{title:r,onPress:function(){j(!0)}})]})}function V(e){var t,n=e.serviceRequest,r=Object(o.useState)(n),s=c()(r,2),a=s[0];s[1],new W;function u(){return"Ordered"==a.status?Object(f.jsx)(b,{title:" Start Order",onPress:function(){}}):"Processing"==a.status?Object(f.jsx)(b,{title:" Mark order as complete",onPress:function(){}}):Object(f.jsx)(f.Fragment,{})}function l(){var e;return Object(f.jsxs)(i.a,{style:{flexDirection:"row"},children:[Object(f.jsx)(L,{text:"Status"}),Object(f.jsx)(L,{text:null!=(e=null==a?void 0:a.status)?e:"Ordered"}),Object(f.jsx)(u,{})]})}function d(){var e="";try{var t;if((null==(t=a.requestedOffering)?void 0:t.length)<1)return"In valid request in the system";for(var n=0;n<a.requestedOffering.length;n++)e+=0==n?"\t-"+a.requestedOffering[n].desc:"\n\t-"+a.requestedOffering[n].desc;return e?"Hello":"In valid request in the system"}catch(r){return"In valid request in the system"}}return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(G,{openTitle:null!=(t=null==e?void 0:e.openTitle)?t:"null open title",child:Object(f.jsx)((function(){var e=new Date(a.created);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L,{text:"Room: "+a.room}),Object(f.jsx)(L,{text:"Created: "+e.toDateString()+", at "+e.toLocaleTimeString()}),Object(f.jsxs)(i.a,{children:[Object(f.jsx)(L,{text:"Requested Offerings:"}),Object(f.jsx)(L,{text:d()})]}),Object(f.jsx)(l,{})]})}),{})})})}function Y(){var e=Object(o.useState)([]),t=c()(e,2),n=t[0],r=t[1],s=Object(o.useState)(A.All),a=c()(s,2),u=a[0],l=a[1],d=new W(!0);function j(e){var t;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.a.awrap(d.getAllRequest(e));case 3:t=n.sent,console.log(t),t&&(r([]),r(t),l(e)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("Failed to sort request");case 11:case"end":return n.stop()}}),null,null,[[0,8]],Promise)}return Object(o.useEffect)((function(){return j(A.All),function(){}}),[]),Object(f.jsxs)(i.a,{children:[Object(f.jsx)(L,{text:"Room Service Request"}),Object(f.jsx)((function(){return Object(f.jsx)(L,{text:"Filtering Type: "+A[u]})}),{}),Object(f.jsx)((function(){return Object(f.jsxs)(i.a,{style:{flexDirection:"row"},children:[Object(f.jsx)(b,{title:"All",onPress:function(){return j(A.All)}}),Object(f.jsx)(b,{title:"Ordered",onPress:function(){return j(A.Ordered)}}),Object(f.jsx)(b,{title:"Processing",onPress:function(){return j(A.Processing)}}),Object(f.jsx)(b,{title:"Complete",onPress:function(){return j(A.Completed)}}),Object(f.jsx)(b,{title:"Cancelled",onPress:function(){return j(A.Cancelled)}})]})}),{}),Object(f.jsx)(b,{title:"Refresh",onPress:function(){j(u)}}),Object(f.jsx)((function(){return(null==n?void 0:n.length)>0?Object(f.jsx)(B.a,{data:n,keyExtractor:function(e){return Object(H.v4)()},renderItem:function(e){var t,n,r=e.item;return Object(f.jsx)(V,{openTitle:"Room: "+(null!=(t=null==r?void 0:r.room)?t:"Invalid")+", "+(null!=(n=null==r?void 0:r.status)?n:"Invalid"),serviceRequest:r})}}):Object(f.jsx)(L,{text:"No request found for "+A[u]})}),{})]})}function J(){var e=Object(o.useState)(r.default),t=c()(e,2),n=t[0],s=t[1],a=Object(o.useState)(0),u=c()(a,2),l=u[0],j=u[1],h=Object(o.useState)(!1),b=c()(h,2),O=b[0],g=b[1],p=Object(o.useState)({id:0,isManager:!1,fname:"",lname:"",username:"",password:""}),m=c()(p,2),w={clockStatus:O,setClockStatus:g,user:m[0],setUser:m[1]},y={theme:n,setTheme:s};return Object(f.jsx)(i.a,{style:N.container,children:Object(f.jsx)(d.Provider,{value:w,children:Object(f.jsx)(x.Provider,{value:y,children:Object(f.jsx)((function(){switch(l){case 0:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(D,{setPage:j})," "]});case 1:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(v,{setPageIndex:j}),Object(f.jsx)(Y,{})," "]});case 2:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(v,{setPageIndex:j}),Object(f.jsx)(L,{text:"Testing"})," "]});case 3:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(v,{setPageIndex:j}),Object(f.jsx)(q,{})]});case 4:case 5:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(v,{setPageIndex:j}),Object(f.jsx)(L,{text:"Testing"})," "]});case 6:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(L,{text:"kris"}),"    "]});case 7:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(Y,{})," "]});case 8:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(L,{text:"brandon"})," "]});case 9:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(L,{text:"josh"}),"    "]});default:return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(L,{text:"Testing"})," "]})}}),{})})})})}var N=u.a.create({container:{flex:1,backgroundColor:"#444",alignItems:"center",justifyContent:"center"}})},89:function(e,t,n){e.exports=n(136)}},[[89,1,2]]]);
//# sourceMappingURL=app.5bd98f09.chunk.js.map